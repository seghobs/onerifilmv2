(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7210:function(e,r,t){Promise.resolve().then(t.bind(t,8046))},8046:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return el}});var a=t(7437),s=t(2265),n=t(8110),i=t(1865),l=t(4578),o=t(7256),d=t(9213),c=t(9311);let m=(0,d.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef((e,r)=>{let{className:t,variant:s,size:n,asChild:i=!1,...l}=e,d=i?o.g7:"button";return(0,a.jsx)(d,{className:(0,c.cn)(m({variant:s,size:n,className:t})),ref:r,...l})});u.displayName="Button";var f=t(6743);let x=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(f.f,{ref:r,className:(0,c.cn)(x(),t),...s})});p.displayName=f.f.displayName;let h=i.RV,g=s.createContext({}),y=e=>{let{...r}=e;return(0,a.jsx)(g.Provider,{value:{name:r.name},children:(0,a.jsx)(i.Qr,{...r})})},j=()=>{let e=s.useContext(g),r=s.useContext(v),{getFieldState:t,formState:a}=(0,i.Gc)(),n=t(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=r;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},v=s.createContext({}),b=s.forwardRef((e,r)=>{let{className:t,...n}=e,i=s.useId();return(0,a.jsx)(v.Provider,{value:{id:i},children:(0,a.jsx)("div",{ref:r,className:(0,c.cn)("space-y-2",t),...n})})});b.displayName="FormItem";let N=s.forwardRef((e,r)=>{let{className:t,...s}=e,{error:n,formItemId:i}=j();return(0,a.jsx)(p,{ref:r,className:(0,c.cn)(n&&"text-destructive",t),htmlFor:i,...s})});N.displayName="FormLabel";let w=s.forwardRef((e,r)=>{let{...t}=e,{error:s,formItemId:n,formDescriptionId:i,formMessageId:l}=j();return(0,a.jsx)(o.g7,{ref:r,id:n,"aria-describedby":s?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!s,...t})});w.displayName="FormControl";let k=s.forwardRef((e,r)=>{let{className:t,...s}=e,{formDescriptionId:n}=j();return(0,a.jsx)("p",{ref:r,id:n,className:(0,c.cn)("text-sm text-muted-foreground",t),...s})});k.displayName="FormDescription";let S=s.forwardRef((e,r)=>{let{className:t,children:s,...n}=e,{error:i,formMessageId:l}=j(),o=i?String(null==i?void 0:i.message):s;return o?(0,a.jsx)("p",{ref:r,id:l,className:(0,c.cn)("text-sm font-medium text-destructive",t),...n,children:o}):null});S.displayName="FormMessage";let T=s.forwardRef((e,r)=>{let{className:t,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,c.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n})});T.displayName="Input";var A=t(2875),_=t(3523),O=t(9224),R=t(2442);let I=A.fC;A.ZA;let C=A.B4,E=s.forwardRef((e,r)=>{let{className:t,children:s,...n}=e;return(0,a.jsxs)(A.xz,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,(0,a.jsx)(A.JO,{asChild:!0,children:(0,a.jsx)(_.Z,{className:"h-4 w-4 opacity-50"})})]})});E.displayName=A.xz.displayName;let F=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(A.u_,{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(O.Z,{className:"h-4 w-4"})})});F.displayName=A.u_.displayName;let D=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(A.$G,{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(_.Z,{className:"h-4 w-4"})})});D.displayName=A.$G.displayName;let z=s.forwardRef((e,r)=>{let{className:t,children:s,position:n="popper",...i}=e;return(0,a.jsx)(A.h_,{children:(0,a.jsxs)(A.VY,{ref:r,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[(0,a.jsx)(F,{}),(0,a.jsx)(A.l_,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(D,{})]})})});z.displayName=A.VY.displayName;let M=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(A.__,{ref:r,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s})});M.displayName=A.__.displayName;let Z=s.forwardRef((e,r)=>{let{className:t,children:s,...n}=e;return(0,a.jsxs)(A.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(A.wU,{children:(0,a.jsx)(R.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(A.eT,{children:s})]})});Z.displayName=A.ck.displayName;let V=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(A.Z0,{ref:r,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...s})});V.displayName=A.Z0.displayName;let P=l.Ry({genres:l.Z_().min(1,"En az bir t\xfcr se\xe7melisiniz"),year:l.Z_().optional(),actors:l.Z_().optional(),additional:l.Z_().optional()});function B(e){let{onSubmit:r,isLoading:t}=e,s=(0,i.cI)({resolver:(0,n.F)(P),defaultValues:{genres:"",year:"",actors:"",additional:""}});return(0,a.jsx)(h,{...s,children:(0,a.jsxs)("form",{onSubmit:s.handleSubmit(e=>{let t="\n      T\xfcrler: ".concat(e.genres,"\n      ").concat(e.year?"Yıl: ".concat(e.year):"","\n      ").concat(e.actors?"Oyuncular: ".concat(e.actors):"","\n      ").concat(e.additional?"Ek tercihler: ".concat(e.additional):"","\n    ");r(t)}),className:"space-y-4 bg-card p-6 rounded-lg shadow-sm",children:[(0,a.jsx)(y,{control:s.control,name:"genres",render:e=>{let{field:r}=e;return(0,a.jsxs)(b,{children:[(0,a.jsx)(N,{children:"Film T\xfcr\xfc"}),(0,a.jsxs)(I,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,a.jsx)(w,{children:(0,a.jsx)(E,{className:"w-full",children:(0,a.jsx)(C,{placeholder:"Bir t\xfcr se\xe7in"})})}),(0,a.jsxs)(z,{children:[(0,a.jsx)(Z,{value:"aksiyon",children:"Aksiyon"}),(0,a.jsx)(Z,{value:"komedi",children:"Komedi"}),(0,a.jsx)(Z,{value:"dram",children:"Dram"}),(0,a.jsx)(Z,{value:"bilim-kurgu",children:"Bilim Kurgu"}),(0,a.jsx)(Z,{value:"romantik",children:"Romantik"}),(0,a.jsx)(Z,{value:"gerilim",children:"Gerilim"}),(0,a.jsx)(Z,{value:"korku",children:"Korku"}),(0,a.jsx)(Z,{value:"animasyon",children:"Animasyon"})]})]}),(0,a.jsx)(S,{})]})}}),(0,a.jsx)(y,{control:s.control,name:"year",render:e=>{let{field:r}=e;return(0,a.jsxs)(b,{children:[(0,a.jsx)(N,{children:"Yıl Aralığı (Opsiyonel)"}),(0,a.jsx)(w,{children:(0,a.jsx)(T,{placeholder:"\xd6rn: 2000-2023",...r,className:"w-full"})}),(0,a.jsx)(S,{})]})}}),(0,a.jsx)(y,{control:s.control,name:"actors",render:e=>{let{field:r}=e;return(0,a.jsxs)(b,{children:[(0,a.jsx)(N,{children:"Oyuncular (Opsiyonel)"}),(0,a.jsx)(w,{children:(0,a.jsx)(T,{placeholder:"\xd6rn: Tom Hanks, Leonardo DiCaprio",...r,className:"w-full"})}),(0,a.jsx)(S,{})]})}}),(0,a.jsx)(y,{control:s.control,name:"additional",render:e=>{let{field:r}=e;return(0,a.jsxs)(b,{children:[(0,a.jsx)(N,{children:"Ek Tercihler (Opsiyonel)"}),(0,a.jsx)(w,{children:(0,a.jsx)(T,{placeholder:"\xd6rn: Oscar \xf6d\xfcll\xfc, IMDb puanı 8+ vb.",...r,className:"w-full"})}),(0,a.jsx)(S,{})]})}}),(0,a.jsx)(u,{type:"submit",className:"w-full",disabled:t,children:t?"Film \xd6nerileri Alınıyor...":"Film \xd6nerisi Al"})]})})}let L=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});L.displayName="Card";let U=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",t),...s})});U.displayName="CardHeader";let G=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h3",{ref:r,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});G.displayName="CardTitle";let J=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("p",{ref:r,className:(0,c.cn)("text-sm text-muted-foreground",t),...s})});J.displayName="CardDescription";let Y=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,c.cn)("p-6 pt-0",t),...s})});Y.displayName="CardContent";let H=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,c.cn)("flex items-center p-6 pt-0",t),...s})});H.displayName="CardFooter";let K=(0,d.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,c.cn)(K({variant:t}),r),...s})}var q=t(5340),Q=t(612),W=t(6691),X=t.n(W);function ee(e){let{title:r,year:t,imdbRating:n,summary:i,cast:l,platforms:o,posterUrl:d}=e,[c,m]=(0,s.useState)(!1),u="https://image.tmdb.org/t/p/w500/wwemzKWzjKYJFfCeiB57q3r4Bcm.png";return(0,a.jsxs)(L,{className:"overflow-hidden transition-all hover:scale-102 hover:shadow-lg",children:[(0,a.jsx)(U,{className:"p-0",children:(0,a.jsx)("div",{className:"relative aspect-[2/3] w-full",children:(0,a.jsx)(X(),{src:c?u:d||u,alt:r,fill:!0,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",className:"object-cover",onError:()=>m(!0),priority:!0})})}),(0,a.jsxs)(Y,{className:"p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("h3",{className:"text-lg font-bold truncate flex-1",children:r}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:t})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(q.Z,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm",children:n})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3",children:i}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[l.slice(0,3).map(e=>(0,a.jsx)($,{variant:"secondary",className:"text-xs",children:e},e)),l.length>3&&(0,a.jsxs)($,{variant:"secondary",className:"text-xs",children:["+",l.length-3]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(Q.Z,{className:"w-4 h-4 mt-1 flex-shrink-0"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:o.map(e=>(0,a.jsx)($,{variant:"outline",className:"text-xs",children:e},e))})]})]})]})}var er=t(5654);async function et(e,r){try{let t=encodeURIComponent(e),a=await fetch("".concat("https://api.themoviedb.org/3","/search/movie?api_key=").concat("5ed73cccfa3d61980d8a41264a3d2051","&query=").concat(t).concat(r?"&year=".concat(r):"","&language=tr-TR"));if(!a.ok)throw Error("TMDB API yanıt vermedi");let s=await a.json();if(s.results&&s.results.length>0){let e=s.results[0].poster_path;return e?"".concat("https://image.tmdb.org/t/p/w500").concat(e):""}return""}catch(e){return console.error("TMDB API error:",e),""}}let ea=new er.$D("AIzaSyBNprZNQfMuUg2U8Sfybp3EXTivFmgMfHI");async function es(e){let r=ea.getGenerativeModel({model:"gemini-pro"});try{let t;let a=await r.generateContent("Sen bir film uzmanısın. Aşağıdaki tercihlere g\xf6re 5 film \xf6nerisi yap. Sadece JSON formatında yanıt ver, başka hi\xe7bir metin ekleme.\n\nTercihler:\n".concat(e,'\n\nYanıtını tam olarak bu formatta ver:\n{\n  "movies": [\n    {\n      "title": "Film Adı",\n      "year": "2023",\n      "imdbRating": "8.5",\n      "summary": "Filmin kısa \xf6zeti",\n      "cast": ["Oyuncu 1", "Oyuncu 2", "Oyuncu 3"],\n      "platforms": ["Netflix", "Prime Video"]\n    }\n  ]\n}\n\n\xd6nemli kurallar:\n1. Sadece JSON formatında yanıt ver\n2. JSON dışında hi\xe7bir metin ekleme\n3. Her film i\xe7in t\xfcm alanları doldur\n4. Platformları ger\xe7ek streaming servislerinden se\xe7 (Netflix, Prime Video, Disney+, Mubi, BluTV)\n5. IMDB puanlarını ger\xe7ek\xe7i tut (1-10 arası)')),s=await a.response,n=s.text().trim();try{t=JSON.parse(n)}catch(e){throw console.error("Parse error:",n),Error("Film \xf6nerileri alınamadı. L\xfctfen tekrar deneyin.")}if(!function(e){if(!e||"object"!=typeof e)return!1;try{return Array.isArray(e.movies)&&e.movies.length>0}catch(e){return!1}}(t))throw Error("Film \xf6nerileri ge\xe7erli formatta değil. L\xfctfen tekrar deneyin.");let i=t,l=await Promise.all(i.movies.map(async e=>{let r=await et(e.title,e.year);return{...e,posterUrl:r}}));return{movies:l}}catch(r){let e=r instanceof Error?{message:r.message,details:r}:{message:"Beklenmeyen bir hata oluştu. L\xfctfen daha sonra tekrar deneyin.",details:r};throw console.error("Gemini API error:",e),e}}var en=t(3945),ei=t(9865);function el(){let[e,r]=(0,s.useState)([]),[t,n]=(0,s.useState)(!1),{toast:i}=(0,ei.p)(),l=async e=>{n(!0);try{let t=await es(e);r(t.movies)}catch(e){console.error("Error getting recommendations:",e),i({title:"Hata",description:e.message||"Film \xf6nerileri alınırken bir hata oluştu.",variant:"destructive"}),r([])}finally{n(!1)}};return(0,a.jsx)("main",{className:"min-h-screen bg-background",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 mb-8",children:[(0,a.jsx)(en.Z,{className:"w-8 h-8"}),(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-center",children:"Film \xd6neri Chatbotu"})]}),(0,a.jsx)("div",{className:"max-w-xl mx-auto mb-12",children:(0,a.jsx)(B,{onSubmit:l,isLoading:t})}),e.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:e.map(e=>(0,a.jsx)(ee,{...e},e.title))}),!e.length&&!t&&(0,a.jsx)("div",{className:"text-center text-muted-foreground p-4",children:"Film tercihlerinizi girin, size en uygun filmleri \xf6nerelim."})]})})}},9865:function(e,r,t){"use strict";t.d(r,{p:function(){return u}});var a=t(2265);let s=0,n=new Map,i=e=>{if(n.has(e))return;let r=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,r)},l=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function m(e){let{...r}=e,t=(s=(s+1)%Number.MAX_VALUE).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,r]=a.useState(d);return a.useEffect(()=>(o.push(r),()=>{let e=o.indexOf(r);e>-1&&o.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9311:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var a=t(7042),s=t(4769);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,a.W)(r))}}},function(e){e.O(0,[477,301,971,864,744],function(){return e(e.s=7210)}),_N_E=e.O()}]);